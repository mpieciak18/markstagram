# Local Postgres test environment
# Copy to server/.env.test to override locally as needed.

NODE_ENV=test
STAGE=testing
PORT=3001
# Used only when REALTIME_TRANSPORT=socketio.
SOCKET_PORT=3002
REALTIME_TRANSPORT=native-ws

DATABASE_URL=postgresql://postgres:postgres@localhost:5433/markstagram_test?schema=public
# "direct" uses Prisma's Postgres adapter path (ideal for local Docker tests).
# "neon" keeps the Neon adapter path.
# direct mode requires: @prisma/adapter-pg and pg
DATABASE_ADAPTER=direct

JWT_SECRET=local-test-secret
CLIENT_URL=http://localhost:5173
CORS_ORIGINS=http://localhost:5173

BCRYPT_SALT_ROUNDS=8
ENABLE_FAST_BCRYPT_FOR_TESTS=0
DISABLE_REQUEST_LOGGING=1
MOCK_CLOUD_STORAGE=1
